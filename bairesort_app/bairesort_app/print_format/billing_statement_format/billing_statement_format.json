{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2023-11-16 05:27:19.985387",
 "css": "\n.details{\n    flex:1;\n    padding: 0 10px;\n}\n.details p{\n    padding: 2px 0;\n}\n\n.details .title{\n    font-size: 14px;\n    font-weight:bold;\n    padding: 5px 0;\n    border-bottom: 1px solid gray;\n}\nbody,p,td,span{\n    font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif; \n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 1,
 "doc_type": "Reservation",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<style>\n\t.print-format table, .print-format tr, \n\t.print-format td, .print-format div, .print-format p {\n\t\tline-height: 150%;\n\t\tvertical-align: middle;\n\t}\n\t@media screen {\n\t\t.print-format {\n\t\t\twidth: 5in;\n\t\t\tpadding: 0.25in;\n\t\t\tmin-height: 8in;\n\t\t}\n\t}\n</style>\n {% set check_in = frappe.get_doc(\"Reservation\", doc.name).check_in %}\n {% set check_out = frappe.get_doc(\"Reservation\", doc.name).check_out %}\n\n{%- set invoice_list = frappe.get_all(\"Sales Invoice\",\n    fields=[\"name\", \"posting_date\", \"total\",\"outstanding_amount\",\"total_advance\"],\n    filters={\"customer\": doc.guest_name, \"posting_date\": [\"between\", [doc.check_in, doc.check_out]] },\n    order_by=\"idx\") -%}\n<!--EDIT HEADER-->\n<header>\n    {% if letter_head %}\n    {{ letter_head }}\n    {% endif %}\n    <div class=\" text-center container-xl-fluid\" style=\"position:relative;\">\t\t\t\t\n        <div class=\"text-center\" style=\"transform:translateY(-20px);\">\n            \t<b>BAI Resort</b><br>\n                <p class=\"p-0 m-0\">BRGY. CABLALAN, GLAN, SARANGANI PROVINCE</p>\n            \t<p>CANDELARIA P. YAP -Prop.</p>\n            \t<p>VAT Reg. Tin: 447-968-730-002</p>\n            \t<p>bairesort@gmail.com | 0917-140-1362</p>\n        </div>\n    </div>\n\n</header>\n<!--EDIT HEADER-->\n<div class=\"container-xl-fluid \" style=\"display:flex; justify-content:space-between;flex-wrap:wrap\">\n    <div class=\"details\">\n        <p class=\"title mt-2\">Guest Detail</p>\n        <p><b>Name:</b> <span> {{ doc.guest_name }}</span></p>\n        <p><b>Company: </b> {{frappe.get_doc(\"Customer\", doc.guest_name).company or \"\"}}</p>\n        <p><b>Phone: </b>{{frappe.get_doc(\"Customer\", doc.guest_name).mobile or \"\"}} </p>\n        <p><b>Email: </b> {{frappe.get_doc(\"Customer\", doc.guest_name).email_address or \"\"}}</p>\n        <p><b>Address: </b>  {{frappe.get_doc(\"Customer\", doc.guest_name).address or \"\" }}</p>\n        <p><b>City: </b> {{frappe.get_doc(\"Customer\", doc.guest_name).city or \"\"}}</p>\n        <p><b>Province: </b> {{frappe.get_doc(\"Customer\", doc.guest_name).province or \"\"}}</p>\n    </div>\n    <div class=\"details\" >\n        <p class=\"title mt-2\">Reservation Detail</p>\n        <p><b>Room No.:</b>\n         {%- for data in invoice_list -%}\n\t\t        {%- set items = frappe.get_all(\"Sales Invoice Item\", filters={\"parent\": data.name, \"parenttype\": \"Sales Invoice\"}, fields=[\"*\"]) -%}\n    \t\t        {%- for item in items -%}\n    \t\t            {%- if \"Room\" in item.item_code -%}\n    \t\t                <span> {{ item.item_code }}, </span>\n    \t\t            {%- endif -%}\n    \t\t        {%- endfor -%} \n\t\t  {%- endfor -%}    \n        </p>\n        <p><b>Check-In Date:</b> {{check_in.strftime(format='%b. ''%d, ''%Y'' %I:%M %p')}}    </p>\n        <p><b>Check-Out Date:</b> {{check_out.strftime(format='%b. ''%d, ''%Y'' %I:%M %p') }}</p>\n        <p><b>Reservation No. :</b> {{ doc.name }} </p>\n        {% set child_ns = namespace(total=0) %}\n        {% set adult_ns = namespace(total=0) %}\n        \n        {%- for data in invoice_list -%}\n\t\t        {%- set items = frappe.get_all(\"Sales Invoice Item\", filters={\"parent\": data.name, \"parenttype\": \"Sales Invoice\"}, fields=[\"*\"]) -%}\n    \t\t        {%- for item in items -%}\n    \t\t                {%- set child = frappe.get_doc(\"Item\", item.item_code).child -%}\n    \t\t                {%- set adult = frappe.get_doc(\"Item\", item.item_code).adult -%}\n\t\t                    {% set child_ns.total = child + child_ns.total %}\n\t\t                    {% set adult_ns.total = adult + adult_ns.total %}\n    \t\t        {%- endfor -%} \n\t\t  {%- endfor -%} \n\n        <p><b>Adult: </b>{{ adult_ns.total }}</p>\n        <p><b>Child:</b> {{ child_ns.total  }}</p>\n        \n    </div>\n</div>\n\n\n{% if invoice_list %}\n    <table class=\"table table-condensed\">\n        <thead>\n        \t<tr>\n        \t    <th width=\"15%\"></th>\n        \t    <th width=\"5%\"></th>\n        \t\t<th width=\"30%\">{{ _(\"Item\") }}</th>\n        \t\t<th width=\"25%\" class=\"text-right\">{{ _(\"Qty\") }}</th>\n        \t\t<th width=\"25%\" class=\"text-right\">{{ _(\"Amount\") }}</th>\n        \t</tr>\n        </thead>\n        {%- for data in invoice_list -%}\n      \n        <tbody>\n           \n            {%- set items = frappe.get_all(\"Sales Invoice Item\", filters={\"parent\": data.name, \"parenttype\": \"Sales Invoice\"}, fields=[\"*\"]) -%}\n                <tr>\n                    <td colspan=\"4\"> {{data.posting_date.strftime(format='%b ' '%d,' '%Y') }}</td>\n                </tr>  \n            {%- for item in items -%}\n                    \n                <tr>\n                    <td></td>\n                    {%- set item_group = frappe.get_doc(\"Item\", item.item_code).item_group -%}\n                    {%- if item_group == \"Hotel\" -%}\n                        <td>Acc</td>\n                    {%- else -%}\n                        <td>Res</td>\n                    {%- endif -%}\n                    <td>\n                        <p>{{ item.item_name }}</p>\n                    </td>\n                    <td class=\"text-right\">\n                        <p>{{ item.qty | int }}</p>\n                        <p>@ {{ \"\u20b1{:,.2f}\".format(item.rate) }}</p>\n                    \n                    </td>\n                    <td class=\"text-right\">{{ \"\u20b1{:,.2f}\".format(item.amount) }}</td>\n                </tr>\n            {% endfor %}\n\n        </tbody>\n{% endfor %}\n    </table>\n{% else %}\n    <h1 class=\"text-center\"> No invoice Found </h1>\n{% endif %}\n    {% set total_ns = namespace(total=0) %}\n    {% set outstanding_amount_ns = namespace(total=0) %}   \n    {% set total_advance = namespace(total=0) %}   \n        {%- for data in invoice_list -%}\n\t\t  {% set total_ns.total = data.total + total_ns.total %}\n\t\t  {% set outstanding_amount_ns.total = data.outstanding_amount + outstanding_amount_ns.total %}\n\t\t  {% set total_advance.total = data.total_advance + total_advance.total %}\n\t\t{%- endfor -%} \n<table class=\"table table-condensed no-border\">\n\t<tbody>\n\t\t<tr>\n\t\t\t{% if doc.flags.show_inclusive_tax_in_print %}\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t\t{{ _(\"Total Excl. Tax\") }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ doc.get_formatted(\"net_total\", doc) }}\n\t\t\t\t</td>\n\t\t\t{% else %}\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t\t{{ _(\"Total\") }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ \"\u20b1{:,.2f}\".format(total_ns.total) }}\n\t\t\t\t</td>\n\t\t\t{% endif %}\n\t\t</tr>\n\t\t{%- for row in doc.taxes -%}\n\t\t  {%- if not row.included_in_print_rate or doc.flags.show_inclusive_tax_in_print -%}\n\t\t\t<tr>\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t    {% if '%' in row.description %}\n\t\t\t\t\t    {{ row.description }}\n\t\t\t\t\t{% else %}\n\t\t\t\t\t    {{ row.description }}@{{ row.rate }}%\n\t\t\t\t\t{% endif %}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ row.get_formatted(\"tax_amount\", doc) }}\n\t\t\t\t</td>\n\t\t\t<tr>\n\t\t  {%- endif -%}\n\t\t{%- endfor -%}\n\n\t\t{%- if doc.discount_amount -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t{{ _(\"Discount\") }}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"discount_amount\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- endif -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ _(\"Grand Total\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"grand_total\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- if doc.rounded_total -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ _(\"Rounded Total\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"rounded_total\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- endif -%}\n\t\t{%- for row in doc.payments -%}\n\t\t\t<tr>\n\t\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t    {{ row.mode_of_payment }}\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ row.get_formatted(\"amount\", doc) }}\n\t\t\t\t</td>\n\t\t\t<tr>\n\t\t{%- endfor -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ _(\"Less downpayment\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t{{ \"\u20b1{:,.2f}\".format(total_advance.total) }}\n\t\t\t</td>\n\t\t\t\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ _(\"Balance\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ \"\u20b1{:,.2f}\".format(outstanding_amount_ns.total) }}\n\t\t\t</td>\n\t\t\t\n\t\t</tr>\n\t\t{%- if doc.change_amount -%}\n\t\t\t<tr>\n\t\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t\t<b>{{ _(\"Change Amount\") }}</b>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t{{ doc.get_formatted(\"change_amount\") }}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t{%- endif -%}\n\t</tbody>\n</table>\n<hr>\n<p>{{ doc.terms or \"\" }}</p>\n<span style=\"font-weight:bold;\">Prepared By: </span>\n <div class=\"mb-4\" style=\"border-bottom: 1px solid black;height:40px;width:30%\"></div>\n<p class=\"text-center\">{{ _(\"Thank you, please visit again.\") }}</p>\n\n\n\n\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2024-01-07 15:15:17.365813",
 "modified_by": "Administrator",
 "module": "Bairesort App",
 "name": "Billing Statement Format",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}